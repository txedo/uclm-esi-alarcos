<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC 
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<!-- When adding an action in struts.xml, edit applicationContext.xml to instantiate it by Spring -->
	<package name="default" extends="struts-default">
		<!-- Interceptors -->
	    <interceptors>
            <!-- Interceptor to handle allowing only certains roles to certain actions -->
            <interceptor name="adminOnly" class="adminInterceptor"/>
            <interceptor name="executiveOnly" class="executiveInterceptor"/>
            <interceptor name="managerOnly" class="managerInterceptor"/>
            <interceptor name="allUsers" class="allUsersInterceptor"/>
            <interceptor-stack name="highStandingUsersOnly">
            	<interceptor-ref name="adminOnly"/>
            	<interceptor-ref name="executiveOnly"/>
            	<interceptor-ref name="managerOnly"/>
            </interceptor-stack>
        </interceptors>
        
        <!-- Actions -->
		<action name="index" class="indexAction">
			<result>/jsp/index.jsp</result>
		</action>
		<action name="helloWorld" class="helloWorldAction"> 
			<result name="input">/jsp/index.jsp</result>
			<result>/jsp/helloWorld.jsp</result>
		</action>
		<action name="startVisualization" class="startVisualizationAction">
			<interceptor-ref name="highStandingUsersOnly"/>
			<result>/jsp/visualization.jsp</result>
		</action>
		<action name="showAdminPanel" class="showAdminPanelAction">
			<interceptor-ref name="adminOnly"></interceptor-ref>
			<result>/jsp/admin/adminPanel.jsp</result>
		</action>
		<action name="showMyAccount" class="showMyAccountAction">
			<interceptor-ref name="allUsers"/>
			<result>/jsp/myAccount.jsp</result>
		</action>
		<action name="contactUs" class="contactUsAction">
			<result>/jsp/contactUs.jsp</result>
		</action>
		<action name="listCompanies" class="companyAction">
			<result>/jsp/admin/viewCompanies.jsp</result>
		</action>
		<action name="saveCompany" class="companyAction" method="save">
			<result>/jsp/admin/viewCompanies.jsp</result>
		</action>
		<action name="editCompany" class="companyAction" method="edit">
			<result>/jsp/admin/viewCompanies.jsp</result>
		</action>
		<action name="deleteCompany" class="companyAction" method="delete">
			<result>/jsp/admin/viewCompanies.jsp</result>
		</action>
	</package>
</struts>
