\section{Medios que se pretenden utilizar} \label{sec:medios}

Como ya se ha explicado anteriormente (Ver Sección \ref{sec:objetivo-principal}), se elaborará una aplicación web utilizando las últimas tecnologías empleadas en desarrollo y diseño web con el fin de obtener una RIA. 

Una aplicación web tiene dos contextos bien diferenciados: el lado del cliente (client-side) y el lado del servidor (server-side). Para poder dotar una aplicación web de las características de una aplicación de escritorio es necesario trabajar desde el lado del cliente. Para ello, se dispone de tecnologías como CSS, Ajax y JavaScript que nos permiten cambiar dinámicamente el contenido que el usuario recibe en su navegador web a través del DOM\footnote{DOM, acrónimo de Document Object Model, es un API a través del cuál se puede modificar dinámicamente el contenido, estructura y estilo de los documentos HTML y XML.}.

A continuación se expondrán este tipo tecnologías así como un conjunto de librerías que serán de gran utilidad a la hora de generar diagramas y gráficas.


\subsection{Tecnologías para desarrollo y diseño web}

\subsubsection{HTML 5}

HTML 5 (HyperText Markup Language, versión 5) es la quinta revisión de HTML.  Esta nueva versión incorpora de forma nativa, es decir, sin depender de programas externos o \textit{plugins} del navegador, reproducción de audio y vídeo, edición de documentos, \textit{drag\&drop} y un elemento \textit{canvas} sobre el que se pueden pintar gráficos en 2 y 3 dimensiones, entre otros.


\subsubsection{Struts 2}

Struts 2 es la nueva versión del \textit{framework} de desarrollo web Java Apache Struts. Struts 2 está basado en el patrón MVC (Modelo-Vista-Controlador), una arquitectura que busca reducir el acoplamiento dividiendo las responsabilidades en 3 capas bien diferenciadas:
\begin{myitemize}
	\item El modelo, que hace referencia a los datos que maneja la aplicación y las reglas de negocio que operan sobre ellos.
	\item La vista, encargada de generar la interfaz con la que la aplicación interacciona con el usuario.
	\item El controlador, que comunica la vista y el modelo respondiendo a eventos generados por el usuario en la vista, invocando cambios en el modelo, y devolviendo a la vista la información del modelo necesaria para que pueda generar la respuesta adecuada para el usuario.
\end{myitemize}
    
No obstante, también es posible diseñar una aplicación web mediante el patrón MVC utilizando páginas JSP y servlets. En este caso, las páginas JSP tomarían el rol de la vista, los servlets el del controlador y los POJO (Plan Old Java Object) el del modelo. El modelo, a su vez, suele estar dividido en dos subcapas siguiendo el patrón DAO (Data Access Object).

En la aplicación web, Struts 2 se empleará en el desarrollo de determinados casos de uso extraídos de la especificación de requisitos de usuario, identificando dichos casos de uso como \textit{acciones} de Struts.

En \cite{site:struts2-plugin-registry} se encuentra una lista con todos los plugins de los que dispone este framework: jQuery, Hibernate, jFree Chart, JUnit, YUI, GWT, etc.


\subsubsection{DWR: Direct Web Remoting}

DWR \cite{site:dwr}, bajo el eslogan de ``Easy Ajax for Java'', es una solución muy utilizada en el mundo empresarial para generar código JavaScript que, ejecutándose en el cliente, permite que los navegadores web hagan peticiones a clases Java que se ejecutan en el servidor como si éstas se ejecutasen en local. Además, con \textit{Reverse Ajax}, es posible que el código Java que se está ejecutando en el servidor utilice un API para modificar el contenido y estilo de los clientes, estableciendo así comunicación en ambos sentidos: del cliente al servidor y del servidor al cliente. Además, es posible integrarlo con tecnologías como jQuery (client-side) y Struts e Hibernate (server-side).


\subsubsection{jQuery}

jQuery \cite{site:jquery} es un \textit{framework} para JavaScript, cuya arquitectura se basa en pequeños \textit{plugins} muy específicos. Este framework está muy extendido entre la comunidad de desarrolladores de aplicaciones web y contiene grandes fuentes de documentación.

Cabe destacar \textbf{jQuery UI} \cite{site:jquery-ui}, que se ejecuta sobre jQuery y provee al programador de un mayor nivel de abstracción en cuanto a interacciones con la interfaz gráfica de usuario, animaciones, \textit{widgets} complejos, etc. permitiendo diseñar una aplicación web como si se tratase de una aplicación de escritorio.


\subsection{Tecnologías para visualización}

Una vez que se han investigado numerosas tecnologías y librerías de visualización \cite{site:chart-list}, se ha seleccionado un conjunto de las mismas (que puede variar en función de futuros requisitos de usuario, es decir, no se descarta la supresión o adición de otras librerías) en base a las siguientes características:
\begin{myitemize}
	\item Generación dinámica de diagramas.
	\item Posibilidad de elección entre una gran colección de modelos (diagramas de barras, sectores, radar, etc.).
	\item Permitir la interacción por parte del usuario.
	\item Visualización atractiva.
	\item Fácil integración en la aplicación web, desarrollada en Java.
	\item Gratuito y, preferiblemente, libre.
	\item Una licencia conforme a nuestros requisitos.
\end{myitemize}


\subsubsection{Google Visualization API}

Es una librería basada en JavaScript y perteneciente a Google \cite{site:google-visualization-api}, que permite la generación de multitud de gráficas y diagramas. Goza de un buen soporte por parte del equipo de desarrollo y una comunidad de desarrolladores que aportan una gran cantidad documentación y nuevos modelos. Entre sus características destacan las siguientes:
\begin{myitemize}
	\item Soporta interacción por parte del usuario gracias a una fuerte captura y manipulación de eventos.
	\item Permite ordenar, filtrar y manipular los datos.
	\item Los orígenes de datos pueden ser la propia página o páginas externas, por ejemplo Google Docs.
	\item Proporciona una gran variedad de modelos: líneas, barras verticales y horizontales, sectores, áreas, árboles, geo-mapas (ver Figura \ref{fig:google-visualization-api-geomap}), mapas interactivos que utilizan el API de Google Maps, tablas, nubes de palabras, etc.
	\item El código de visualización no puede ser almacenado localmente. Se debe acceder a \textit{http://www.google.com/jsapi} para utilizar las visualizaciones.
\end{myitemize}

\imagen{./images/google-visualization-api-geomap.png}{0.45}{\textit{Geomapa} de Google Visualization API}{fig:google-visualization-api-geomap}


\subsubsection{The JavaScript InfoVis Toolkit}

Se trata de una librería \cite{site:jit} con licencia Creative Commons v3, desarrollada por completo en JavaScript con un gran potencial para representar y manejar grafos, \textit{treemaps}, y \textit{sunbursts}. Sus principales características son las siguientes:
\begin{myitemize}
	\item Soporta la captura y manipulación de eventos.
	\item Soporta zoom y animaciones.
	\item Permite que el usuario mueva los diagramas o sus elementos.
	\item Soporte para dispositivos móviles.
	\item Proporciona una gran variedad de modelos: líneas, barras verticales y horizontales, sectores, áreas, árboles. \textbf{No soporta diagramas de tipo radar}.
\end{myitemize}


\subsubsection{Open Flash Chart}

Open Flash Chart \cite{site:open-flash-chart} es una librería libre y gratuita, con licencia LGPL, que se basa en flash para generar los diagramas, lo cual ha sufrido algunas mejoras significativas gracias a las nuevas etiquetas que incorpora HTML5. Además, incluye un plug-in para ser integrado con numerosos lenguajes, entre ellos Java y el framework Struts 2. Entre sus características destacan las siguientes:
\begin{myitemize}
	\item Captura y manipulación de eventos.
	\item Grandes factores de configuración y personalización: capturar eventos, barras de carga, menús (ver Figura \ref{fig:open-flash-chart-menu}), tooltips, etc.
	\item Proporciona una gran variedad de modelos: líneas, barras verticales y horizontales, sectores, áreas, \textbf{radar} (ver Figura \ref{fig:open-flash-chart-radar}), etc.
	\item Los diagramas pueden ser exportados a imágenes estáticas.
\end{myitemize}

\imagen{./images/open-flash-chart-radar.png}{0.45}{Diagrama de tipo ``radar'' con Open Flash Chart}{fig:open-flash-chart-radar}

\imagen{./images/open-flash-chart-menu.png}{0.45}{Diagrama con menú con Open Flash Chart}{fig:open-flash-chart-menu}


\subsection{Otras tecnologías}

\subsubsection{Hibernate}
Hibernate es un \textit{framework} de persistencia, libre y bajo licencia LGPL, que permite establecer un \textit{mapeo objeto-relacional} para la plataforma Java y sistemas basados en SQL, es decir, permite relacionar una clase Java con una tabla de una base de datos para abstraer al programador del lenguaje SQL y haciendo que la aplicación sea portable entre cualquier sistema gestor de bases de datos compatible con SQL.

Este framework, además de utilizarse para gestionar la persistencia del entorno MEDUSAS, se utilizará para gestionar la persistencia de la aplicación web: gestión de usuarios, estadísticas de uso, historiales, etc.
